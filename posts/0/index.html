<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>网站终于搞定了 - 使用帮助说明 | 海海杂说</title><link rel=icon type=image/x-icon href=/favicon/favicon-32x32.png><meta name=copyright content="© Copyright 2025. All rights reserved."><meta name=robots content="index,follow"><link rel=stylesheet href=/css/main.min.ded89dd886a36b12c82783a3397d0c85754be45d90ed2320b32fe86bfec89578.css integrity="sha256-3tid2IajaxLIJ4OjOX0MhXVL5F2Q7SMgsy/oa/7IlXg=" crossorigin=anonymous><link rel=stylesheet href=/css/github-markdown.min.ee481479a5f04c7d701db0c6200f10242416b3f4d2a3c073fdc6a09e145dccb8.css integrity="sha256-7kgUeaXwTH1wHbDGIA8QJCQWs/TSo8Bz/cagnhRdzLg=" crossorigin=anonymous><link rel=stylesheet href=/css/iconfont.min.daa5136180ec22c6e9c0b91c926f85d1272434432a6bbd6cb3a571743fdfeb08.css integrity="sha256-2qUTYYDsIsbpwLkckm+F0SckNEMqa71ss6VxdD/f6wg=" crossorigin=anonymous><script src=/js/dayjs.min.js></script><script src=/js/relativeTime.js></script><script src=/js/zh-cn.js></script><script src=/js/main.f131ccf6104a927521a409081c405198f6e1a22c1adeff2e4f0c4e55ad2e2f65.js integrity="sha256-8THM9hBKknUhpAkIHEBRmPbhoiwa3v8uTwxOVa0uL2U=" crossorigin=anonymous></script><meta name=file content="posts/0000 博客皮肤完成/index.md"></head><body><header><div class=site-header><div class=site-title><img src=/favicon/logo.png class=site-title-logo>
<span class=site-title-text>海海杂说</span></div><div></div><div class=site-menus><nav><ul><li><a href=/><i class="iconfont icon-home"></i>
首页</a></li><li><a aria-current=true class=ancestor href=/posts/><i class="iconfont icon-medium"></i>
博客</a></li><li><a href=/products/><i class="iconfont icon-chanpin"></i>
产品</a></li><li><a href=/moments/><i class="iconfont icon-shejiaotubiao-02"></i>
动态</a></li><li><a href=/about/><i class="iconfont icon-guanyuwomen"></i>
关于</a></li></ul></nav></div></div></header><main><div class=details><div class=details-title>网站终于搞定了 - 使用帮助说明</div><hr class=divider><div class=created>发表于：2025-09-14 17:34:36</div><div class="content markdown-body"><p>听别人说，我们这批这年头还在还在搞自己个人网站、博客建设的人，一般发布的第一个内容都是教别人如何搞博客。我以为我会与众不同，就不写如何做。但等我做完后才发现，还是得写一下，不是为了教别人，是为了记录一下网站的功能与一些使用方法，要注意的配置太多，如果不记录一下，久了肯定得搞忘。</p><h1 id=配置>配置</h1><p>网站的配置在根目录下的<code>/hugo.toml</code>文件中，一些通用的配置就不在这里介绍，主要介绍一下自定义的一些配置项。</p><h2 id=params>params</h2><p>在<code>[params]</code>中，我们有如下配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>params</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>avatar</span> = <span style=color:#e6db74>&#34;/favicon/logo.png&#34;</span> <span style=color:#75715e># 网站左侧区域的个人头像</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;海海&#34;</span> <span style=color:#75715e># 网站所有者的名称</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>desc</span> = <span style=color:#e6db74>&#34;软件开发初学者，爱好者。&#34;</span> <span style=color:#75715e># 对网站所有者的描述</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>icp</span> = <span style=color:#e6db74>&#34;蜀ICP备2023031169号-1&#34;</span> <span style=color:#75715e># 域名的ICP备案号</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>logo</span> = <span style=color:#e6db74>&#34;/favicon/logo.png&#34;</span> <span style=color:#75715e># 在网页左上角的图标</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>favicon</span> = <span style=color:#e6db74>&#34;/favicon/favicon-32x32.png&#34;</span> <span style=color:#75715e># 网站的favicon图标</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>description</span> = <span style=color:#e6db74>&#34;个人在计算机知识学习过程中的经验积累，开发的个人产品的发布，与同行学习交流。&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>keywords</span> = <span style=color:#e6db74>&#34;个人博客，计算机技术，软件开发，C/C++/Javascript/js/React，网络知识，逆向，千牛，微信&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># description和keywords用于生成meta标签中的SEO内容</span>
</span></span></code></pre></div><h2 id=菜单>菜单</h2><p>在网站上使用了两个菜单：</p><ul><li>右上角的网站导航，主要配置的项为<code>[[menus.main]]</code>。</li><li>首页左侧的导航链接，用于常用工具的存放，配置项为<code>[[menus.tools]]</code>。</li></ul><p>菜单项的配置，与文档描述一致，但是添加了一个<code>icon</code>，用于给菜单添加图标：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[[<span style=color:#a6e22e>menus</span>.<span style=color:#a6e22e>tools</span>]]
</span></span><span style=display:flex><span><span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#39;JSON编辑器&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#39;https://jsoneditoronline.org/&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>menus</span>.<span style=color:#a6e22e>tools</span>.<span style=color:#a6e22e>params</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>icon</span> = <span style=color:#e6db74>&#39;icon-json&#39;</span> <span style=color:#75715e># 链接的图标</span>
</span></span></code></pre></div><blockquote><p>图标是通过<a href=https://www.iconfont.cn/ title target=_blank>https://www.iconfont.cn/</a>选择了几个常用的图标。你如果需要添加自己的图标，你需要编辑皮肤的图标文件：<code>assets/css/iconfont.css</code>。</p></blockquote><h1 id=短代码>短代码</h1><p>添加了两个短代码：</p><ul><li>year</li><li>wall</li></ul><h2 id=year>year</h2><p><code>year</code>用来显示当前的年份，使用方法如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>{{\&lt; year \&gt;}}
</span></span></code></pre></div><h2 id=wall>wall</h2><p><code>wall</code>是一个闭合短代码，会用一个<code>div</code>来包裹其中的内容，主要用来显示图片墙的功能。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>\{\{&lt; wall &gt;\}\}
</span></span><span style=display:flex><span>![](https://liveout.cn/wp-content/uploads/pic/background/2023/905.png)
</span></span><span style=display:flex><span>![](https://liveout.cn/wp-content/uploads/pic/background/2023/905.png)
</span></span><span style=display:flex><span>![](https://liveout.cn/wp-content/uploads/pic/background/2023/905.png)
</span></span><span style=display:flex><span>![](https://liveout.cn/wp-content/uploads/pic/background/2023/905.png)
</span></span><span style=display:flex><span>\{\{&lt; /wall &gt;\}\}
</span></span></code></pre></div><blockquote><p>短代码主要用于<code>markdown</code>文档中。</p></blockquote><h1 id=内容>内容</h1><h2 id=网站内容>网站内容</h2><p>网站主要分为博客、产品、动态和关于4个部分。</p><ul><li>博客 - 用于文章的发布，平时一般都是在这里发表文章，路径：<code>content/posts/</code>。</li><li>产品 - 主要发布平时开发的一些小软件，路径：<code>content/products/</code>。</li><li>动态 - 主要发布一些简短的动态消息，像朋友圈一样使用，路径：<code>content/moments/</code>。</li><li>关于 - 一个固定的<code>markdown</code>文档，主要介绍一下网站的情况，路径：<code>content/about.md</code>。</li></ul><p>在博客、产品、动态中，都可以使用<code>_index.md</code>来发布关于当前板块的介绍。</p><p>在<code>content/_index.md</code>中，也可以发布网站的介绍，会在首页有一个单独块进行展示。</p><h2 id=添加内容>添加内容</h2><p>内容添加使用常规命令即可：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo new <span style=color:#e6db74>&#34;content/posts/first.md&#34;</span>
</span></span></code></pre></div><p>该命令在<code>content/posts/</code>目录下添加了<code>first.md</code>文件。</p><p>我们也可以在<code>content/posts/</code>下直接新建<code>first.md</code>文件，但使用这个命令，能够直接添加当前时间，不用再麻烦去手动设置时间。</p><h2 id=front-matter>front matter</h2><p>每个内容页面开始处的元数据，通过格式特定的分隔符与内容分开。</p><p>这里介绍一下我们用到的几个元数据：</p><ul><li>cover - 给文章设置一个图片，这个图片在首页、列表页进行显示。</li><li>slug - 设置当前文章在<code>URL</code>中的名称。一般情况下，会使用文件名作为URL中的一部分，但有时候比较长的中文文件名在URL中不太友好，就可以通过设置当前属性，改变在URL中的名称。</li><li>description - 在网页的<code>meta</code>标签中添加<code>description</code>的内容。</li><li>tags - 添加为文章的<code>tags</code>内容，以数组的形式设置，在没有设置<code>keywords</code>的情况下，会作为<code>meta</code>中的<code>keywords</code>添加到网页中。</li><li>keywords - 会作为<code>meta</code>中的<code>keywords</code>添加到网页中，但不会出现在文章的<code>tags</code>中。</li></ul><h3 id=动态板块的front-matter>动态板块的Front Matter</h3><p>在这个板块中，我们设置不了发布具体的单个页面，所有内容都在列表页中进行展示。通过在<code>content/moments/_index.md</code>设置特殊的<code>Front Matter</code>来设置编译选项。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>title</span>: <span style=color:#e6db74>&#39;动态&#39;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>date</span>: <span style=color:#e6db74>2023-01-01T08:00:00</span><span style=color:#ae81ff>-07</span>:<span style=color:#ae81ff>00</span>
</span></span><span style=display:flex><span><span style=color:#f92672>draft</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#f92672>build</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>render</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>publishResources</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>cascade</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>build</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>list</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>render</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>publishResources</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><h2 id=内容预览>内容预览</h2><p>通过命令<code>hugo server -D -p 3000</code>我们可以在本地预览网站。</p><p>有时候，我们添加了内容，但是对应页面没有更新或者没有生成页面，可以使用以下页面清除一下缓存：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>hugo --cleanDestinationDir
</span></span><span style=display:flex><span>hugo --gc
</span></span></code></pre></div><h1 id=其它问题>其它问题</h1><h2 id=图片路径问题>图片路径问题</h2><p>我们在短代码中，通过<code>{{ .Inner | .Page.RenderString }}</code>来编译<code>markdown</code>为<code>HTML</code>，但是在这里不能正确处理<code>wall</code>中的图片路径，特别是在<strong>动态</strong>这个板块，列表页上不能正确显示出来。我们使用了<code>Markdown渲染钩子</code>中的<code>render-image.html</code>为处理图片路径。</p><p>大概意思路程如下：</p><ol><li>如果图片路径是相对路径，则进行处理</li><li>通过查找<code>Page</code>的<code>RelPermalink</code>、<code>Slug</code>、<code>File.Dir</code>来设置路径。</li><li>若是使用的<code>Slug</code>，则递归使用<code>Parent</code>继续生成路径。</li></ol><p>详细内容见以下源代码：</p><ul><li>layouts/_default/_markup/render-image.html</li><li>layouts/partials/url.html</li></ul><h2 id=链接问题>链接问题</h2><p>默认转换的链接是在当前文档打开，但一般的使用习惯是在内容中的链接在新的标签中打开，这里使用了<code>render-link.html</code>链接添加<code>target</code>属性。</p><p>详细内容见以下源代码：</p><ul><li>layouts/_default/_markup/render-link.html</li></ul></div></div></main><footer><p>© Copyright 2025. All rights reserved.</p><p><a href=https://beian.miit.gov.cn/#/Integrated/index target=_blank>蜀ICP备2023031169号-1</a></p></footer></body></html>