<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>博客 | 海海杂说</title><link rel=icon type=image/x-icon href=/favicon/favicon-32x32.png><meta name=copyright content="© Copyright 2025. All rights reserved."><meta name=robots content="index,follow"><link rel=stylesheet href=/css/main.min.4161a2f58aba7f239c5d630a2193e893e99cc5b13376e084e11ee73ea9599550.css integrity="sha256-QWGi9Yq6fyOcXWMKIZPok+mcxbEzduCE4R7nPqlZlVA=" crossorigin=anonymous><link rel=stylesheet href=/css/github-markdown.min.ee481479a5f04c7d701db0c6200f10242416b3f4d2a3c073fdc6a09e145dccb8.css integrity="sha256-7kgUeaXwTH1wHbDGIA8QJCQWs/TSo8Bz/cagnhRdzLg=" crossorigin=anonymous><link rel=stylesheet href=/css/iconfont.min.daa5136180ec22c6e9c0b91c926f85d1272434432a6bbd6cb3a571743fdfeb08.css integrity="sha256-2qUTYYDsIsbpwLkckm+F0SckNEMqa71ss6VxdD/f6wg=" crossorigin=anonymous><link rel=stylesheet href=/css/media.min.6d93cf55b3f365f2dd3f8f9f6c60742648bc4d87b03c5c0e947d9950844bf62a.css integrity="sha256-bZPPVbPzZfLdP4+fbGB0Jki8TYewPFwOlH2ZUIRL9io=" crossorigin=anonymous><script src=/js/dayjs.min.js></script><script src=/js/relativeTime.js></script><script src=/js/zh-cn.js></script><script src=/js/main.f131ccf6104a927521a409081c405198f6e1a22c1adeff2e4f0c4e55ad2e2f65.js integrity="sha256-8THM9hBKknUhpAkIHEBRmPbhoiwa3v8uTwxOVa0uL2U=" crossorigin=anonymous></script><meta name=file content="posts/_index.md"><meta name=color-scheme content="light"></head><body><header><div class=site-header><a href=https://www.lsz.sc.cn/ class=site-title><img src=/favicon/logo.png class=site-title-logo>
<span class=site-title-text>海海杂说</span></a><div></div><div class=site-menus><nav><ul><li><a href=/><i class="iconfont icon-home"></i>
首页</a></li><li><a aria-current=page class=active href=/posts/><i class="iconfont icon-medium"></i>
博客</a></li><li><a href=/products/><i class="iconfont icon-chanpin"></i>
产品</a></li><li><a href=/moments/><i class="iconfont icon-shejiaotubiao-02"></i>
动态</a></li><li><a href=/about/><i class="iconfont icon-guanyuwomen"></i>
关于</a></li></ul></nav></div></div></header><main><div class=page-posts><div class=posts><div class=posts-item><div class=posts-item-header><h2 class=posts-item-title><a href=/posts/0001/>你以为你请求的就是你想请求的吗？</a></h2><hr class=divider><div class=posts-item-created>发表于：2021年11月04日</div></div><div class=posts-item-summary><div class="posts-item-summary-text markdown-body"><p>在如今SPA应用流行的情况下，页面上的所有东西都是通过javascript进行加载，本文将带你一步一步截获用户请求，并修改请求地址。</p><p>我们主要使用的方法为Hook原生接口进行接口调用拦截；在拦截前，先定义一个URL修改的函数，统一将URL请求中的before修改为after，你在你的实际处理中可能会更加复杂。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>srcHook</span>(<span style=color:#a6e22e>url</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>nUrl</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>url</span>.<span style=color:#a6e22e>replace</span>(<span style=color:#e6db74>&#34;hook-before&#34;</span>, <span style=color:#e6db74>&#34;hook-after&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>nUrl</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p class=posts-item-summary-text-more><a href=/posts/0001/>>>>阅读全文&lt;&lt;&lt;</a></p></div></div></div><div class=show-all-link><a href=/posts/ class=pager-item title=上一页><i class="iconfont icon-shangyiyehoutuifanhui"></i></a>
<a href=/posts/ class=pager-item title=第1页>1</a>
<span class="pager-item pager-disabled">2</span>
<span class="pager-item pager-disabled"><i class="iconfont icon-xiayiyeqianjinchakangengduo"></i></span></div></div></div></main><footer><p>© Copyright 2025. All rights reserved.</p><p><a href=https://beian.miit.gov.cn/#/Integrated/index target=_blank>蜀ICP备2023031169号-1</a></p></footer></body></html>